webpackJsonp([19],{"/+ym":function(e,t,l){var o=l("ZRdu");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);l("rjj0")("6d1de6be",o,!1,{sourceMap:!1})},"281h":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l("ND6O"),a=l("Sp2F"),s=!1;var n=function(e){s||l("/+ym")},i=l("VU/8")(o.a,a.a,!1,n,null,null);i.options.__file="pages/upload.vue",t.default=i.exports},ND6O:function(e,t,l){"use strict";var o=l("mvHQ"),a=l.n(o),s=l("mtWM"),n=l.n(s);t.a={components:{axios:n.a},data:function(){return{selectedFile:null,selectedFileB:null,show0:null,loaded0:null,total0:null,bar0:null,show1:null,loaded1:null,total1:null,bar1:null,spinner0:!1,spinner1:!1}},methods:{checkAuthState:function(){var e=JSON.parse(localStorage.getItem("State"));console.log(e),e?this.$store.replaceState(e):this.$router.push("/login")},onFileChanged:function(e){this.selectedFile=e.target.files[0]},BonFileChangedB:function(e){this.selectedFileB=e.target.files[0]},onUpload:function(){var e=this,t=new FormData;t.append("file",this.selectedFile,this.selectedFile.name),n.a.post(this.$store.state.api_url+"/uploads/wine_list",t,{onUploadProgress:function(t){e.bar0=!0,e.show0=!0,e.loaded0=t.loaded,e.total0=t.total,t.loaded/t.total==1&&(e.spinner0=!0,e.bar0=!1),console.log(t.loaded/t.total)}}).then(function(t){e.spinner0=!1,console.log("Response: ",t),e.selectedFile=null,"403"==t.data.http_code&&alert(a()(t.data.data,null,2))}).catch(function(t){e.selectedFile=null,console.log(t.response)})},onUploadB:function(){var e=this,t=new FormData;t.append("file",this.selectedFileB,this.selectedFileB.name),n.a.post(this.$store.state.api_url+"/uploads/budget",t,{onUploadProgress:function(t){e.bar1=!0,e.show1=!0,e.loaded1=t.loaded,e.total1=t.total,t.loaded/t.total==1&&(e.spinner1=!0,e.bar1=!1),console.log(t.loaded/t.total)}}).then(function(t){e.spinner1=!1,console.log("Response: ",t),e.selectedFileB=null}).catch(function(e){console.log(e.response)})}},beforeMount:function(){this.checkAuthState()}}},Sp2F:function(e,t,l){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("center",[o("div",[e._v("Click the upload icon below to select a file to be uploaded.")]),o("h3",[e._v("Sales")]),o("div",{staticClass:"image-upload"},[o("label",{attrs:{for:"file-input"}},[o("img",{staticClass:"logo-image",attrs:{src:l("vnbe")}})]),1==e.spinner0?o("span",{attrs:{"uk-spinner":"ratio: 4.5"}}):e._e(),1==e.bar0?o("progress",{staticClass:"uk-progress",attrs:{id:"js-progressbar",max:e.total0},domProps:{value:e.loaded0}}):e._e(),o("input",{attrs:{id:"file-input",type:"file"},on:{change:e.onFileChanged}})]),e.selectedFile?o("p",[e._v(e._s(e.selectedFile.name))]):e._e(),e.selectedFile?o("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.onUpload()}}},[e._v("Upload Sales")]):e._e(),o("h3",[e._v("Budget")]),o("div",{staticClass:"image-upload"},[o("label",{attrs:{for:"the-file-inputB"}},[o("img",{staticClass:"logo-image",attrs:{src:l("vnbe")}})]),1==e.spinner1?o("span",{attrs:{"uk-spinner":"ratio: 4.5"}}):e._e(),1==e.bar1?o("progress",{staticClass:"uk-progress",attrs:{id:"js-progressbar",max:e.total1},domProps:{value:e.loaded1}}):e._e(),o("input",{attrs:{id:"the-file-inputB",type:"file"},on:{change:e.BonFileChangedB}})]),e.selectedFileB?o("p",[e._v(e._s(e.selectedFileB.name))]):e._e(),e.selectedFileB?o("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.onUploadB()}}},[e._v("Upload Budget")]):e._e()])],1)};o._withStripped=!0;var a={render:o,staticRenderFns:[]};t.a=a},ZRdu:function(e,t,l){(e.exports=l("FZ+f")(!1)).push([e.i,".image-upload>input{display:none}.image-upload img{width:80px;cursor:pointer}",""])},vnbe:function(e,t,l){e.exports=l.p+"img/upload.100ecce.svg"}});