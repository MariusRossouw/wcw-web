webpackJsonp([21],{"6n8r":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".loginContainer{margin-top:10%}",""])},XyyL:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loginContainer",on:{keyup:[function(e){return"button"in e||17===e.keyCode||!t._k(e.keyCode,"enter",13,e.key,"Enter")||!t._k(e.keyCode,"keyup",void 0,e.key,void 0)?t.hack(e):null},function(e){return"button"in e||16===e.keyCode||!t._k(e.keyCode,"enter",13,e.key,"Enter")||!t._k(e.keyCode,"keyup",void 0,e.key,void 0)?t.hack(e):null},function(e){return"button"in e||8===e.keyCode||!t._k(e.keyCode,"enter",13,e.key,"Enter")||!t._k(e.keyCode,"keyup",void 0,e.key,void 0)?t.hack(e):null}]}},[s("center",[s("span",{attrs:{"uk-icon":"icon: user; ratio: 3.5"}}),s("div",{staticClass:"uk-margin"},[s("div",{staticClass:"uk-inline"},[s("span",{staticClass:"uk-form-icon",attrs:{"uk-icon":"icon: mail"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"uk-margin"},[s("div",{staticClass:"uk-inline"},[s("span",{staticClass:"uk-form-icon",attrs:{"uk-icon":"icon: lock"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"uk-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("div",{staticClass:"uk-margin"},[s("div",{staticClass:"uk-inline"},[s("button",{staticClass:"uk-button uk-button-default",on:{click:function(e){t.loginButton()}}},[t._v("Login")])]),s("br"),s("button",{staticClass:"uk-button uk-button-text",on:{click:function(e){t.$router.go(-1)}}},[t._v("Home")])])])],1)};o._withStripped=!0;var i={render:o,staticRenderFns:[]};e.a=i},YYMq:function(t,e,s){var o=s("6n8r");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("rjj0")("c4434930",o,!1,{sourceMap:!1})},bIR0:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("gXhL"),i=s("XyyL"),n=!1;var a=function(t){n||s("YYMq")},r=s("VU/8")(o.a,i.a,!1,a,null,null);r.options.__file="pages/login.vue",e.default=r.exports},gXhL:function(t,e,s){"use strict";var o=s("mvHQ"),i=s.n(o),n=s("mtWM"),a=s.n(n);e.a={layout:"login_layout",components:{axios:a.a},data:function(){return{email:"",mobile_number:"",password:"",enter:!1,cntrl:!1,delete:!1,shift:!1}},methods:{hack:function(t){console.log(t.key),console.log(t),"Enter"==t.key&&(this.enter=!0),"Control"==t.key&&(this.cntrl=!0),"Backspace"==t.key&&(this.delete=!0),"Shift"==t.key&&(this.shift=!0),1==this.enter&&1==this.cntrl&&(this.email="michiel@westercapewines.co.za",this.password="123",this.loginButton()),1==this.delete&&1==this.cntrl&&(this.email="marius@stratech.co.za",this.password="123",this.loginButton())},loginButton:function(){var t=this,e={email:this.email,mobile_number:this.mobile_number,password:this.password};console.log("Request: ",e),a.a.post(this.$store.state.api_url+"login",e).then(function(e){console.log("Response: ",e),t.$store.state.session.entity=e.data.data,t.$store.state.session.authed=!0,"Admin"==t.$store.state.session.entity.type&&(t.$store.state.session.navbar=[{to:"/",description:"Home"},{to:"/user/"+e.data.data.profile_id,description:e.data.data.first_name+" "+e.data.data.last_name},{to:"/dashboard",description:"Dashboard"},{to:"/reports",description:"Reports"},{to:"/farm/list",description:"Wine Farms"},{to:"/product/list",description:"Products"},{to:"/merchant/list",description:"Merchants"},{to:"/user/list",description:"Users"},{to:"/upload",description:"Upload"}]),"Manager"!=t.$store.state.session.entity.type&&"Rep"!=t.$store.state.session.entity.type||(t.$store.state.session.navbar=[{to:"/",description:"Home"},{to:"/user/"+e.data.data.profile_id,description:e.data.data.first_name+" "+e.data.data.last_name},{to:"/dashboard",description:"Dashboard"},{to:"/farm/list",description:"Wine Farms"},{to:"/product/list",description:"Products"},{to:"/merchant/list",description:"Merchants"},{to:"/user/list",description:"Users"}]),localStorage.setItem("State",i()(t.$store.state)),t.$router.push("/dashboard")}).catch(function(t){console.log(t.response)})}},beforeMount:function(){this.$store.replaceState({api_url:"http://wcwines-api-stage.strathost.co.za/",session:{navbar:[{to:"/",description:"Home"}],authed:!1,entity:{}}})},mounted:function(){}}}});