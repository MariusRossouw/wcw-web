webpackJsonp([2],{"5Ede":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".echarts{width:100%;height:400px}.isSelected{color:#fff;background-color:#9acd32}.isNotSelected,.isSelected{width:80%;height:30px;margin-bottom:3px;margin-left:28px;border:none}.isNotSelected{color:#3d83ec!important}.superLink{overflow-y:scroll;height:200px}.superLink li:hover{background:#adc962;color:#fff}",""])},BT3R:function(e,t,a){var s=a("5Ede");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("09a57705",s,!1,{sourceMap:!1})},Fs7Z:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"content-background"},[s("div",{staticClass:"uk-container uk-container-large uk-padding-remove"},[s("div",{staticClass:"uk-offcanvas-content"},[s("div",{staticClass:"uk-width-1-1@m"},[s("div",{staticClass:"uk-grid-match uk-grid-small uk-text-center",attrs:{"uk-grid":""}},[s("div",{staticClass:"uk-width-5-6@m"},[s("div",{staticClass:"uk-button uk-button-default uk-margin-small-right",staticStyle:{width:"100%","background-color":"#a5cb4f",color:"white","font-size":"20px"},attrs:{type:"button","uk-toggle":"target: #offcanvas-usage"}},[e._v("Filter\n                                "),0==e.filters.years.length&&0==e.filters.quarters.length&&0==e.filters.months.length&&0==e.filters.codes.length&&0==e.filters.reps.length&&0==e.filters.province_filter.length&&0==e.filters.merchant_groups.length&&0==e.filters.merchant_filter.length&&0==e.filters.wine_farms.length&&0==e.filters.products.length&&0==e.filters.product_types.length?s("p",[e._v("Showing (All)")]):e._e(),e.filters.years.length>0||e.filters.quarters.length>0||e.filters.months.length>0||e.filters.codes.length>0||e.filters.reps.length>0||e.filters.province_filter.length>0||e.filters.merchant_groups.length>0||e.filters.merchant_filter.length>0||e.filters.wine_farms.length>0||e.filters.products.length>0||e.filters.product_types.length>0?s("p",[e._v("\n                                Showing (\n                                    "),e._l(e.filters.years,function(t,a){return e.filters.years.length>0?s("span",{key:t+a},[e._v(" "+e._s(t)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.quarters,function(t,a){return e.filters.quarters.length>0?s("span",{key:t+a},[e._v(" "+e._s(t)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.months,function(t,a){return e.filters.months.length>0?s("span",{key:t+a},[e._v(" "+e._s(t)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.codes,function(t,a){return e.filters.codes.length>0?s("span",{key:t+a},[e._v(" "+e._s(t)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.reps,function(t,a){return e.filters.reps.length>0?s("span",{key:t.rep_name+a},[e._v(" "+e._s(t.rep_name)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.province_filter,function(t,a){return e.filters.province_filter.length>0?s("span",{key:t.province_name+a},[e._v(" "+e._s(t.province_name)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.merchant_groups,function(t,a){return e.filters.merchant_groups.length>0?s("span",{key:t.group_name+a},[e._v(" "+e._s(t.group_name)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.merchant_filter,function(t,a){return e.filters.merchant_filter.length>0?s("span",{key:t.merchant_name+a},[e._v(" "+e._s(t.merchant_name)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.wine_farms,function(t,a){return e.filters.wine_farms.length>0?s("span",{key:t.farm_name+a},[e._v(" "+e._s(t.farm_name)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.products,function(t,a){return e.filters.products.length>0?s("span",{key:t.product_name+a},[e._v(" "+e._s(t.product_name)+" "),s("b",[e._v("|")])]):e._e()}),e._l(e.filters.types,function(t,a){return e.filters.types.length>0?s("span",{key:t.product_type+a},[e._v(" "+e._s(t.product_type)+" "),s("b",[e._v("|")])]):e._e()}),e._v(" )\n                                ")],2):e._e()])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",[s("button",{staticClass:"uk-button uk-button-default uk-margin-small-right",staticStyle:{width:"100%","background-color":"#6296d0",color:"white","font-size":"20px",height:"50px"},attrs:{type:"button"},on:{click:function(t){e.getStuff()}}},[e._v("Apply")]),s("br"),s("button",{staticClass:"uk-button uk-button-default uk-margin-small-right",staticStyle:{width:"100%","background-color":"#6296d0",color:"white","font-size":"20px",height:"50px"},attrs:{type:"button"},on:{click:function(t){e.clearFilters()}}},[e._v("Clear")])])])])]),s("div",{attrs:{id:"offcanvas-usage","uk-offcanvas":""}},[s("div",{staticClass:"uk-offcanvas-bar"},[s("button",{staticClass:"uk-offcanvas-close",staticStyle:{color:"red"},attrs:{type:"button","uk-close":""}}),s("div",{staticClass:"uk-width-1-1@m"},[s("div",{staticClass:"uk-grid-small",staticStyle:{"padding-right":"15px"},attrs:{"uk-grid":""}},[s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Code "),e.filters.codes.length>0?s("span",[e._v(e._s(e.filters.codes.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.codes,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateCodes(a,t.code)}}},[e._v(e._s(t.code))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Province "),e.filters.province_filter.length>0?s("span",[e._v(e._s(e.filters.province_filter.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.provinces,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateProvinces(a,t)}}},[e._v(e._s(t.province_name))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Merchant Group "),e.filters.merchant_groups.length>0?s("span",[e._v(e._s(e.filters.merchant_groups.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.merchant_groups,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateMerchantGroups(a,t)}}},[e._v(e._s(t.group_name))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Merchant "),e.filters.merchant_filter.length>0?s("span",[e._v(e._s(e.filters.merchant_filter.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.merchants,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateMerchants(a,t)}}},[e._v(e._s(t.merchant_name))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Rep "),e.filters.reps.length>0?s("span",[e._v(e._s(e.filters.reps.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.reps,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateReps(a,t)}}},[e._v(e._s(t.rep_name))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Year "),e.filters.years.length>0?s("span",[e._v(e._s(e.filters.years.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.years,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateYears(a,t.transaction_year)}}},[e._v(e._s(t.transaction_year))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Quarter "),e.filters.quarters.length>0?s("span",[e._v(e._s(e.filters.quarters.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.quarters,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateQuarters(a,t.quarter)}}},[e._v(e._s(t.quarter))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Month "),e.filters.months.length>0?s("span",[e._v(e._s(e.filters.months.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.months,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateMonths(a,t.month)}}},[e._v(e._s(t.month))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Wine Farm "),e.filters.wine_farms.length>0?s("span",[e._v(e._s(e.filters.wine_farms.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.wine_farms,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateWine_farms(a,t)}}},[e._v(e._s(t.farm_name))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Product "),e.filters.products.length>0?s("span",[e._v(e._s(e.filters.products.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.products,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateProducts(a,t)}}},[e._v(e._s(t.product_name))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Type "),e.filters.product_types.length>0?s("span",[e._v(e._s(e.filters.product_types.length))]):e._e()]),s("div",{staticClass:"cardBody"},e._l(e.types,function(t,a){return s("button",{key:a,class:{isSelected:t.selected,isNotSelected:!t.selected},on:{click:function(s){e.updateTypes(a,t)}}},[e._v(e._s(t.product_type))])}))])]),s("div",{staticClass:"uk-width-1-6@m"},[s("div",{staticClass:"uk-card uk-card-primary uk-card-small"},[s("h3",{staticClass:"uk-card-title"},[e._v("Search Filters")]),s("div",{staticClass:"cardBody"},[s("center",[s("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.getStuff()}}},[e._v("Apply")]),s("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.clearFilters()}}},[e._v("Clear")])])],1)])])])])])])]),s("div",{staticClass:"uk-grid-match uk-grid-small uk-text-center",attrs:{"uk-grid":""}},[s("div",{staticClass:"uk-width-1-1@m"},[s("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[s("div",{staticClass:"uk-width-1-1@m"},[s("div",{staticClass:"uk-card uk-card-default uk-card-small echarts"},[s("chart",{attrs:{option:e.option,loading:e.loading1,id:"chart1"},on:{ready:e.onReady,click:e.onClick}})],1)]),s("div",{staticClass:"uk-width-1-1@m"},["volume"==e.show?s("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.switchChart()}}},[e._v("Volume")]):e._e(),"sales"==e.show?s("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.switchChart()}}},[e._v("Sales")]):e._e()]),s("div",{staticClass:"uk-width-1-4@m"},[s("div",{staticClass:"uk-card uk-card-default uk-card-small superLink"},[s("h3",{staticClass:"uk-card-title"},[e._v("Bottom 5 Merchants")]),0==e.bottom5_merchants.length?s("img",{staticClass:"logo-image",attrs:{src:a("kNIA")}}):e._e(),e._l(e.bottom5_merchants,function(t,a){return s("li",{key:a,staticStyle:{cursor:"pointer"},attrs:{title:t.name},on:{click:function(a){e.merchantAddFilter(t)}}},[s("span",{staticStyle:{float:"left","margin-left":"5px"}},[e._v(e._s(e._f("truncate")(t.name,10,"...")))]),s("span",{staticStyle:{float:"right","margin-right":"5px"}},[e._v(e._s(e._f("toCurrency")(t.value)))]),s("br")])})],2)]),s("div",{staticClass:"uk-width-1-4@m"},[s("div",{staticClass:"uk-card uk-card-default uk-card-small superLink"},[s("h3",{staticClass:"uk-card-title"},[e._v("Top 5 Merchants")]),0==e.top5_merchants.length?s("img",{staticClass:"logo-image",attrs:{src:a("kNIA")}}):e._e(),e._l(e.top5_merchants,function(t,a){return s("li",{key:a,staticStyle:{cursor:"pointer"},attrs:{title:t.name},on:{click:function(a){e.merchantAddFilter(t)}}},[s("span",{staticStyle:{float:"left","margin-left":"5px"}},[e._v(e._s(e._f("truncate")(t.name,10,"...")))]),s("span",{staticStyle:{float:"right","margin-right":"5px"}},[e._v(" "+e._s(e._f("toCurrency")(t.value)))]),s("br")])})],2)]),s("div",{staticClass:"uk-width-1-4@m"},[s("div",{staticClass:"uk-card uk-card-default uk-card-small superLink"},[s("h3",{staticClass:"uk-card-title"},[e._v("Worst Performing Merchants")]),0==e.bottom5_products.length?s("img",{staticClass:"logo-image",attrs:{src:a("kNIA")}}):e._e(),e._l(e.bottom5_products,function(t,a){return s("li",{key:a,staticStyle:{cursor:"pointer"},attrs:{title:t.name},on:{click:function(a){e.productAddFilter(t)}}},[s("span",{staticStyle:{float:"left","margin-left":"5px"}},[e._v(e._s(e._f("truncate")(t.name,10,"...")))]),s("span",{staticStyle:{float:"right","margin-right":"5px"}},[e._v(" "+e._s(e._f("toCurrency")(t.value)))]),s("br")])})],2)]),s("div",{staticClass:"uk-width-1-4@m"},[s("div",{staticClass:"uk-card uk-card-default uk-card-small superLink"},[s("h3",{staticClass:"uk-card-title"},[e._v("Top 5 Products")]),0==e.top5_products.length?s("img",{staticClass:"logo-image",attrs:{src:a("kNIA")}}):e._e(),e._l(e.top5_products,function(t,a){return s("li",{key:a,staticStyle:{cursor:"pointer"},attrs:{title:t.name},on:{click:function(a){e.productAddFilter(t)}}},[s("span",{staticStyle:{float:"left","margin-left":"5px"}},[e._v(e._s(e._f("truncate")(t.name,10,"...")))]),s("span",{staticStyle:{float:"right","margin-right":"5px"}},[e._v(" "+e._s(e._f("toCurrency")(t.value)))]),s("br")])})],2)])])])]),s("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[s("div",{staticClass:"uk-width-1-3@m"},[s("chart",{staticStyle:{height:"400px",width:"100%","background-color":"white"},attrs:{option:e.option2,loading:e.loading2,id:"chart2"},on:{ready:e.onReady,click:e.onClick}})],1),s("div",{staticClass:"uk-width-1-3@m"},[s("chart",{staticStyle:{height:"400px",width:"100%","background-color":"white"},attrs:{option:e.option3,loading:e.loading3,id:"chart3"},on:{ready:e.onReady,click:e.onClick}})],1),s("div",{staticClass:"uk-width-1-3@m"},[s("chart",{staticStyle:{height:"400px",width:"100%","background-color":"white"},attrs:{option:e.option4,loading:e.loading4,id:"chart4"},on:{ready:e.onReady,click:e.onClick}})],1)]),s("div",{staticClass:"uk-card-small uk-width-1-1"},[s("h3",[e._v("Transaction Data")]),s("button",{on:{click:function(t){e.onBtNormal()}}},[e._v("1 - Grouping Active")]),s("button",{on:{click:function(t){e.onBtPivotMode()}}},[e._v("2 - Grouping Active with Pivot Mode")]),s("button",{on:{click:function(t){e.onBtFullPivot()}}},[e._v("3 - Grouping Active with Pivot Mode and Pivot Active")]),s("div",{staticClass:"gridSize"},[s("ag-grid-vue",{ref:"table",staticClass:"ag-theme-balham",staticStyle:{height:"100%",width:"100%"},attrs:{gridOptions:e.gridOptions,columnDefs:e.columnDefs,rowData:e.rowData}})],1),s("button",{staticClass:"uk-button uk-button-default",on:{click:function(t){e.onBtExport()}}},[e._v("Export")])])])])])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};t.a=r},Ku5W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("eBY+");Object.defineProperty(t,"AgGridVue",{enumerable:!0,get:function(){return(e=s,e&&e.__esModule?e:{default:e}).default;var e}})},RkKS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VueComponentFactory=void 0;var s,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a("I3G/"),n=(s=i)&&s.__esModule?s:{default:s};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.VueComponentFactory=function(){function e(t,a){o(this,e),this.$el=t,this.parent=a}return r(e,[{key:"createRendererFromComponent",value:function(t){var a=e.getComponentType(this.parent,t);if(a)return function(){function t(){o(this,t)}return r(t,[{key:"init",value:function(t){this.component=e.createAndMountComponent(t,a)}},{key:"getGui",value:function(){return this.component.$el}},{key:"destroy",value:function(){this.component.$destroy()}}]),t}()}},{key:"createEditorFromComponent",value:function(t){var a=e.getComponentType(this.parent,t);if(a)return function(){function t(){o(this,t)}return r(t,[{key:"init",value:function(t){this.component=e.createAndMountComponent(t,a)}},{key:"getValue",value:function(){return this.component.getValue()}},{key:"getGui",value:function(){return this.component.$el}},{key:"destroy",value:function(){this.component.$destroy()}},{key:"isPopup",value:function(){return!!this.component.isPopup&&this.component.isPopup()}},{key:"isCancelBeforeStart",value:function(){return!!this.component.isCancelBeforeStart&&this.component.isCancelBeforeStart()}},{key:"isCancelAfterEnd",value:function(){return!!this.component.isCancelAfterEnd&&this.component.isCancelAfterEnd()}},{key:"focusIn",value:function(){this.component.focusIn&&this.component.focusIn()}},{key:"focusOut",value:function(){this.component.focusOut&&this.component.focusOut()}}]),t}()}},{key:"createFilterFromComponent",value:function(t){var a=e.getComponentType(this.parent,t);if(a)return function(){function t(){o(this,t)}return r(t,[{key:"init",value:function(t){this.component=e.createAndMountComponent(t,a)}},{key:"getGui",value:function(){return this.component.$el}},{key:"destroy",value:function(){this.component.$destroy()}},{key:"isFilterActive",value:function(){return this.component.isFilterActive()}},{key:"doesFilterPass",value:function(e){return this.component.doesFilterPass(e)}},{key:"getModel",value:function(){return this.component.getModel()}},{key:"setModel",value:function(e){this.component.setModel(e)}},{key:"afterGuiAttached",value:function(e){this.component.afterGuiAttached&&this.component.afterGuiAttached(e)}},{key:"getFrameworkComponentInstance",value:function(){return this.component}}]),t}()}}],[{key:"getComponentType",value:function(e,t){if("string"==typeof t){var a=e.$parent.$options.components[t];return a?n.default.extend(a):(console.error("Could not find component with name of "+t+". Is it in Vue.components?"),null)}return t}},{key:"createAndMountComponent",value:function(e,t){var a=new t({data:{params:e}});return a.$mount(),a}}]),e}()},b3wD:function(e,t,a){"use strict";var s=a("Ku5W"),r=(a.n(s),a("mtWM")),i=a.n(r),n=a("XLwt"),o=a.n(n);a("Z1Ko");t.a={components:{"ag-grid-vue":s.AgGridVue,axios:i.a},head:function(){return{title:"WCW Dashboard"}},data:function(){return{show:"sales",chart:null,chart5:null,loading1:!0,loading2:!0,loading3:!0,loading4:!0,topSaleAmount:0,topSaleSpace:0,topSaleAmountAccume:0,topSaleSpaceAccume:0,filters:{years:[],quarters:[],months:[],codes:[],merchant_groups:[],merchant_filter:[],wine_farms:[],province_filter:[],products:[],product_types:[],reps:[],types:[]},year:"",month:"",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],bottom5_merchants:[],bottom5_products:[],top5_merchants:[],top5_products:[],type_names:[],provinces_names:[],code_names:[],max1:0,years:[],quarters:[{quarter:"Q1",selected:!1},{quarter:"Q2",selected:!1},{quarter:"Q3",selected:!1},{quarter:"Q4",selected:!1}],months:[{month:"January",selected:!1},{month:"February",selected:!1},{month:"March",selected:!1},{month:"April",selected:!1},{month:"May",selected:!1},{month:"June",selected:!1},{month:"July",selected:!1},{month:"August",selected:!1},{month:"September",selected:!1},{month:"October",selected:!1},{month:"November",selected:!1},{month:"December",selected:!1}],graph_months:[],legend:[],codes:[],merchant_groups:[],merchants:[],wine_farms:[],products:[],types:[],reps:[],provinces:[],top5Products:[],columnDefs:[{headerName:"Province",field:"province_name",minWidth:120,headerClass:"resizable-header",filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],textCustomComparator:function(e,t,a){var s=a.toLowerCase(),r=t.toString().toLowerCase();function i(e,t){return null!==e&&e.indexOf(t)>=0}return i(r,s)||i(r,{wc:"western cape",gp:"gauteng",fs:"free stare",ec:"eastern cape",kzn:"kwazulu natal"}[s])},debounceMs:2e3}},{headerName:"Account",field:"account",minWidth:90,headerClass:"resizable-header"},{headerName:"Blend",field:"blend",minWidth:90,headerClass:"resizable-header"},{headerName:"Bottles",field:"bottles",minWidth:90,headerClass:"resizable-header"},{headerName:"business_name",field:"business_name",minWidth:90,headerClass:"resizable-header"},{headerName:"case_size",field:"case_size",minWidth:90,headerClass:"resizable-header"},{headerName:"cases",field:"cases",minWidth:90,headerClass:"resizable-header"},{headerName:"code",field:"code",minWidth:90,headerClass:"resizable-header"},{headerName:"color",field:"color",minWidth:90,headerClass:"resizable-header"},{headerName:"cultivar",field:"cultivar",minWidth:90,headerClass:"resizable-header"},{headerName:"description",field:"description",minWidth:90,headerClass:"resizable-header"},{headerName:"first_name",field:"first_name",minWidth:90,headerClass:"resizable-header"},{headerName:"last_name",field:"last_name",minWidth:90,headerClass:"resizable-header"},{headerName:"item_code",field:"item_code",minWidth:90,headerClass:"resizable-header"},{headerName:"litres",field:"litres",minWidth:90,headerClass:"resizable-header"},{headerName:"measurement",field:"measurement",minWidth:90,headerClass:"resizable-header"},{headerName:"merchant_name",field:"merchant_name",minWidth:90,headerClass:"resizable-header"},{headerName:"period",field:"period",minWidth:90,headerClass:"resizable-header"},{headerName:"product_classification",field:"product_classification",minWidth:90,headerClass:"resizable-header"},{headerName:"product_id",field:"product_id",minWidth:90,headerClass:"resizable-header"},{headerName:"product_name",field:"product_name",minWidth:90,headerClass:"resizable-header"},{headerName:"product_type",field:"product_type",minWidth:90,headerClass:"resizable-header"},{headerName:"province_name",field:"province_name",minWidth:90,headerClass:"resizable-header"},{headerName:"rep_code",field:"rep_code",minWidth:90,headerClass:"resizable-header"},{headerName:"rep_name",field:"rep_name",minWidth:90,headerClass:"resizable-header"},{headerName:"sale",field:"sale",minWidth:90,headerClass:"resizable-header",valueParser:this.numberValueParser},{headerName:"size",field:"size",minWidth:90,headerClass:"resizable-header"},{headerName:"special",field:"special",minWidth:90,headerClass:"resizable-header"},{headerName:"transaction_code",field:"transaction_code",minWidth:90,headerClass:"resizable-header"},{headerName:"transaction_day",field:"transaction_day",minWidth:90,headerClass:"resizable-header"},{headerName:"transaction_id",field:"transaction_id",minWidth:90,headerClass:"resizable-header"},{headerName:"transaction_month",field:"transaction_month",minWidth:90,headerClass:"resizable-header"},{headerName:"transaction_type",field:"transaction_type",minWidth:90,headerClass:"resizable-header"},{headerName:"transaction_year",field:"transaction_year",minWidth:90,headerClass:"resizable-header"},{headerName:"vintage",field:"vintage",minWidth:90,headerClass:"resizable-header"},{headerName:"volume",field:"volume",minWidth:90,headerClass:"resizable-header"},{headerName:"Region",field:"region_name",minWidth:90,headerClass:"resizable-header"},{headerName:"Group",field:"merchant_group",minWidth:110,headerClass:"resizable-header",onCellDoubleClicked:this.openGroup},{headerName:"Merchant",field:"merchant_name",minWidth:110,headerClass:"resizable-header",onCellDoubleClicked:this.openMerchant,filter:"agTextColumnFilter",filterParams:{filterOptions:["contains"],textCustomComparator:function(e,t,a){var s=a.toLowerCase(),r=t.toString().toLowerCase();function i(e,t){return null!==e&&e.indexOf(t)>=0}return i(r,s)||i(r,{}[s])},debounceMs:2e3}},{headerName:"Rep",field:"rep_name",minWidth:110,headerClass:"resizable-header",onCellDoubleClicked:this.openRep},{headerName:"Farm",field:"farm_name",minWidth:110,headerClass:"resizable-header",onCellDoubleClicked:this.openFarm},{headerName:"Year",field:"transaction_year",minWidth:110,headerClass:"resizable-header"},{headerName:"Month",field:"transaction_month",minWidth:100,headerClass:"resizable-header"},{headerName:"Value",field:"sale",minWidth:100,aggFunc:"sum",headerClass:"resizable-header",valueParser:this.numberValueParser},{headerName:"Volume",field:"litres",minWidth:100,aggFunc:"sum",headerClass:"resizable-header",valueParser:this.numberValueParser},{headerName:"Percentage",field:"percentage",minWidth:100,aggFunc:"sum",headerClass:"resizable-header",valueParser:this.numberValueParser}],rowData:[],show_results_filter_selected:0,search_text:"",gridOptions:{defaultColDef:{enableValue:!0,enableRowGroup:!0,enablePivot:!0},suppressPropertyNamesCheck:!0,enableColResize:!0,floatingFilter:!0,onGridReady:function(e){e.api.sizeColumnsToFit()}},loading:!1,o:{},o2:{},o3:{},o4:{},option:{},option2:{},option3:{},option4:{},topVolumeAmount:null,topVolumeAccume:null,topVolumeSpace:null,topVolumeSpaceAccume:null}},methods:{switchChart:function(){this.chart.clear(),this.chart.setOption({},!0),"sales"==this.show?(this.chart.setOption(this.o2,!0),this.show="volume"):(this.chart.setOption(this.o,!0),this.show="sales")},merchantAddFilter:function(e){for(var t=0;t<this.merchants.length;t++)if(this.merchants[t].merchant_id==e.merchant_id)if(this.merchants[t].selected=!this.merchants[t].selected,this.merchants[t].selected)this.filters.merchant_filter.push(this.merchants[t]);else for(var a=0;a<this.filters.merchant_filter.length;a++)this.filters.merchant_filter[a].merchant_id===this.merchants[t].merchant_id&&this.filters.merchant_filter.splice(a,1)},productAddFilter:function(e){console.log(e);for(var t=0;t<this.products.length;t++)if(this.products[t].product_id==e.product_id)if(this.products[t].selected=!this.products[t].selected,this.products[t].selected)this.filters.products.push(this.products[t]);else for(var a=0;a<this.filters.products.length;a++)this.filters.products[a].product_id===this.products[t].product_id&&this.filters.products.splice(a,1);console.log(this.filters.products)},checkAuthState:function(){var e=JSON.parse(localStorage.getItem("State"));e?(this.$store.replaceState(e),"Admin"!=this.$store.state.session.entity.type&&this.setFilterFromState(e)):this.$router.push("/login")},setFilterFromState:function(e){if(this.years=e.session.entity.filters.years,this.codes=e.session.entity.filters.codes,this.merchant_groups=e.session.entity.filters.merchant_groups,this.merchants=e.session.entity.filters.merchants,this.wine_farms=e.session.entity.filters.wine_farms,this.provinces=e.session.entity.filters.provinces,this.products=e.session.entity.filters.products,this.types=e.session.entity.filters.types,this.reps=e.session.entity.filters.reps,""!=this.year)for(var t=0;t<this.years.length;t++)this.years[t].transaction_year==this.year&&this.updateYears(t,this.years[t].transaction_year);this.bottom5_merchants=[],this.bottom5_products=[],this.top5_merchants=[],this.top5_products=[],1!=this.loading4&&(this.loading4=!this.loading4),1!=this.loading1&&(this.loading1=!this.loading1),1!=this.loading2&&(this.loading2=!this.loading2),1!=this.loading3&&(this.loading3=!this.loading3)},openGroup:function(e){this.$router.push("/group/"+e.data.merchant_group_id)},openMerchant:function(e){this.$router.push("/merchant/"+e.data.merchant_id)},openRep:function(e){this.$router.push("/user/"+e.data.profile_id)},openFarm:function(e){this.$router.push("/farm/"+e.data.wine_farm_id)},onBtNormal:function(){this.gridOptions.columnApi.setPivotMode(!1),this.gridOptions.columnApi.setPivotColumns([]),this.gridOptions.columnApi.setRowGroupColumns(["province_name","rep_name"])},onBtPivotMode:function(){this.gridOptions.columnApi.setPivotMode(!0),this.gridOptions.columnApi.setPivotColumns([]),this.gridOptions.columnApi.setRowGroupColumns(["province_name","transaction_year"])},onBtFullPivot:function(){this.gridOptions.columnApi.setPivotMode(!0),this.gridOptions.columnApi.setPivotColumns(["transaction_year","transaction_month"]),this.gridOptions.columnApi.setRowGroupColumns(["province_name","rep_name","merchant_name"])},numberValueParser:function(e){return Number(e.newValue)},formatNumber:function(e){return Math.floor(e).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},onBtExport:function(){this.gridOptions.api.exportDataAsExcel({fileName:"filename",sheetName:"sheetName"})},doRandom:function(){this.loading=!this.loading},onReady:function(e,t){},onClick:function(e,t,a){},updateYears:function(e,t){if(this.years[e].selected=!this.years[e].selected,this.years[e].selected)-1===this.filters.years.indexOf(t)?this.filters.years.push(t):console.log("This item already exists");else for(var a=0;a<this.filters.years.length;a++)this.filters.years[a]===t&&this.filters.years.splice(a,1)},updateQuarters:function(e,t){if(this.quarters[e].selected=!this.quarters[e].selected,this.quarters[e].selected)this.filters.quarters.push(t);else for(var a=0;a<this.filters.quarters.length;a++)this.filters.quarters[a]===t&&this.filters.quarters.splice(a,1)},updateMonths:function(e,t){if(this.months[e].selected=!this.months[e].selected,this.months[e].selected)-1===this.filters.months.indexOf(t)?this.filters.months.push(t):console.log("This item already exists");else for(var a=0;a<this.filters.months.length;a++)this.filters.months[a]===t&&this.filters.months.splice(a,1)},updateCodes:function(e,t){if(this.codes[e].selected=!this.codes[e].selected,this.codes[e].selected)this.filters.codes.push(t);else for(var a=0;a<this.filters.codes.length;a++)this.filters.codes[a]===t&&this.filters.codes.splice(a,1)},updateProvinces:function(e,t){if(this.provinces[e].selected=!this.provinces[e].selected,this.provinces[e].selected)this.filters.province_filter.push(t);else for(var a=0;a<this.filters.province_filter.length;a++)this.filters.province_filter[a]===t&&this.filters.province_filter.splice(a,1)},updateMerchantGroups:function(e,t){if(this.merchant_groups[e].selected=!this.merchant_groups[e].selected,this.merchant_groups[e].selected)this.filters.merchant_groups.push(t);else for(var a=0;a<this.filters.merchant_groups.length;a++)this.filters.merchant_groups[a]===t&&this.filters.merchant_groups.splice(a,1)},updateMerchants:function(e,t){if(this.merchants[e].selected=!this.merchants[e].selected,this.merchants[e].selected)this.filters.merchant_filter.push(t);else for(var a=0;a<this.filters.merchant_filter.length;a++)this.filters.merchant_filter[a]===t&&this.filters.merchant_filter.splice(a,1)},updateProducts:function(e,t){if(this.products[e].selected=!this.products[e].selected,this.products[e].selected)this.filters.products.push(t);else for(var a=0;a<this.filters.products.length;a++)this.filters.products[a]===t&&this.filters.products.splice(a,1)},updateTypes:function(e,t){if(console.log(t),this.types[e].selected=!this.types[e].selected,this.types[e].selected)this.filters.types.push(t);else for(var a=0;a<this.filters.types.length;a++)this.filters.types[a]===t&&this.filters.types.splice(a,1)},updateReps:function(e,t){if(this.reps[e].selected=!this.reps[e].selected,this.reps[e].selected)this.filters.reps.push(t);else for(var a=0;a<this.filters.reps.length;a++)this.filters.reps[a]===t&&this.filters.reps.splice(a,1)},updateWine_farms:function(e,t){if(this.wine_farms[e].selected=!this.wine_farms[e].selected,this.wine_farms[e].selected)this.filters.wine_farms.push(t);else for(var a=0;a<this.filters.wine_farms.length;a++)this.filters.wine_farms[a]===t&&this.filters.wine_farms.splice(a,1)},getFilterData:function(){var e=this;i.a.post(this.$store.state.api_url+"filters",{}).then(function(t){if(console.log(t.data.data),e.years=t.data.data.years,e.quarters=t.data.data.quarters,e.months=t.data.data.months,e.codes=t.data.data.codes,e.merchant_groups=t.data.data.merchant_groups,e.merchants=t.data.data.merchants,e.wine_farms=t.data.data.wine_farms,e.provinces=t.data.data.provinces,e.products=t.data.data.products,e.types=t.data.data.types,e.reps=t.data.data.reps,""!=e.year)for(var a=0;a<e.years.length;a++)e.years[a].transaction_year==e.year&&e.updateYears(a,e.years[a].transaction_year);e.bottom5_merchants=[],e.bottom5_products=[],e.top5_merchants=[],e.top5_products=[],1!=e.loading4&&(e.loading4=!e.loading4),1!=e.loading1&&(e.loading1=!e.loading1),1!=e.loading2&&(e.loading2=!e.loading2),1!=e.loading3&&(e.loading3=!e.loading3),e.gridOptions.api.setColumnDefs(e.columnDefs),e.gridOptions.api.setRowData([]),e.getBudgetAndSales(),e.getTypes(),e.getProvinces(),e.getCodes(),e.getTop5Products(),e.getBottom5Merchants(),e.getTop5Merchants(),e.getBottom5Products(),e.getGraphData()}).catch(function(e){console.log("Error: ",e.response)})},getBudgetAndSales:function(){var e=this;this.chart.clear(),this.chart.setOption({},!0);var t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}if("Admin"!=this.$store.state.session.entity.type&&0==a.filters.reps.length){a.filters.reps=this.reps;for(s=0;s<this.reps.length;s++)this.reps[s].selected=!0}i.a.post(this.$store.state.api_url+"transactions_budget",a).then(function(t){e.graph_months=t.data.data.graph_months,e.legend=t.data.data.legend,e.loading1=!1,e.topSaleAmount=0,e.topVolumeAmount=0,e.topVolumeAccume=0,e.topVolumeSpace=0,e.topVolumeSpaceAccume=0;for(var a=0;a<t.data.data.years.length;a++){for(var s=0;s<t.data.data.years[a].volume.length;s++)t.data.data.years[a].volume[s]>e.topVolumeAmount&&(e.topVolumeAmount=400*Math.ceil(t.data.data.years[a].sale[s]/1e4),e.topVolumeSpace=e.topVolumeAmount/5);for(s=0;s<t.data.data.years[a].volume_accum.length;s++)t.data.data.years[a].volume_accum[s]>e.topVolumeAccume&&(e.topVolumeAccume=1e4*Math.ceil(t.data.data.years[a].volume_accum[s]/1e4),e.topVolumeSpaceAccume=e.topVolumeAccume/5);for(s=0;s<t.data.data.years[a].sale.length;s++)t.data.data.years[a].sale[s]>e.topSaleAmount&&(e.topSaleAmount=1e4*Math.ceil(t.data.data.years[a].sale[s]/1e4),e.topSaleSpace=e.topSaleAmount/5);for(s=0;s<t.data.data.years[a].budget.length;s++)t.data.data.years[a].budget[s]>e.topSaleAmount&&(e.topSaleAmount=1e4*Math.ceil(t.data.data.years[a].budget[s]/1e4),e.topSaleSpace=e.topSaleAmount/5);for(s=0;s<t.data.data.years[a].sale_accum.length;s++)t.data.data.years[a].sale_accum[s]>e.topSaleAmountAccume&&(e.topSaleAmountAccume=1e4*Math.ceil(t.data.data.years[a].sale_accum[s]/1e4),e.topSaleSpaceAccume=e.topSaleAmountAccume/5);for(s=0;s<t.data.data.years[a].budget_accum.length;s++)t.data.data.years[a].budget_accum[s]>e.topSaleAmountAccume&&(e.topSaleAmountAccume=1e4*Math.ceil(t.data.data.years[a].budget_accum[s]/1e4),e.topSaleSpaceAccume=e.topSaleAmountAccume/5)}e.o={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1,title:"Data view",lang:["English","Close","Save"]},magicType:{show:!0,type:["bar","line"],title:["Magic","2"]},restore:{show:!0,title:"Restore"},saveAsImage:{show:!0,title:"Download"}}},legend:{data:e.legend},xAxis:[{type:"category",data:e.graph_months,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"Sales/Budget",min:0,max:e.topSaleAmount,interval:e.topSaleSpace,axisLabel:{formatter:"{value} R"},axisLine:{lineStyle:{color:"#b34038"}}},{type:"value",name:"Accum",min:0,max:e.topSaleAmountAccume,interval:e.topSaleSpaceAccume,axisLabel:{formatter:"{value} R"},axisLine:{lineStyle:{color:"#5197d5"}}}],series:[]},e.o2={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1,title:"Data view",lang:["English","Close","Save"]},magicType:{show:!0,type:["bar","line"],title:["Magic","2"]},restore:{show:!0,title:"Restore"},saveAsImage:{show:!0,title:"Download"}}},legend:{data:e.legend},xAxis:[{type:"category",data:e.graph_months,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"Volume",min:0,max:e.topVolumeAmount,interval:e.topVolumeSpace,axisLabel:{formatter:"{value} L"},axisLine:{lineStyle:{color:"#b34038"}}},{type:"value",name:"Accum",min:0,max:e.topVolumeAccume,interval:e.topVolumeSpaceAccume,axisLabel:{formatter:"{value} L"},axisLine:{lineStyle:{color:"#5197d5"}}}],series:[]};for(s=0,a=0;a<t.data.data.years.length;a++)e.o.series.push({name:e.legend[a],type:"bar",yAxisIndex:0,data:t.data.data.years[a].budget}),s++;for(a=0;a<t.data.data.years.length;a++)e.o.series.push({name:e.legend[s],type:"bar",yAxisIndex:0,data:t.data.data.years[a].sale}),s++;for(a=0;a<t.data.data.years.length;a++)e.o2.series.push({name:e.legend[s],type:"bar",yAxisIndex:0,data:t.data.data.years[a].volume}),s++;for(a=0;a<t.data.data.years.length;a++)e.o.series.push({name:e.legend[s],type:"line",yAxisIndex:1,data:t.data.data.years[a].budget_accum}),s++;for(a=0;a<t.data.data.years.length;a++)e.o.series.push({name:e.legend[s],type:"line",yAxisIndex:1,data:t.data.data.years[a].sale_accum}),s++;for(a=0;a<t.data.data.years.length;a++)e.o2.series.push({name:e.legend[s],type:"line",yAxisIndex:1,data:t.data.data.years[a].volume_accum}),s++;e.chart.setOption(e.o,!0)})},getTypes:function(){var e=this;this.chart2.clear(),this.chart2.setOption({},!0);var t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_types",a).then(function(t){e.loading2=!1;for(var a=0;a<t.data.data.types.length;a++)e.type_names.push(t.data.data.types[a].name);var s={title:{text:"Types",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"Types",type:"pie",radius:"55%",center:["50%","60%"],data:t.data.data.types,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.chart2.setOption(s,!0)}).catch(function(e){console.log(e.response)})},getProvinces:function(){var e=this;this.chart3.clear(),this.chart3.setOption({},!0);var t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_provinces",a).then(function(t){e.loading3=!1;for(var a=0;a<t.data.data.provinces.length;a++)e.provinces_names.push(t.data.data.provinces[a].name);var s={title:{text:"Province",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"Province",type:"pie",radius:"55%",center:["50%","60%"],data:t.data.data.provinces,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.chart3.setOption(s,!0)}).catch(function(e){console.log(e.response)})},getCodes:function(){var e=this;this.chart4.clear(),this.chart4.setOption({},!0);var t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_codes",a).then(function(t){e.loading4=!1;for(var a=0;a<t.data.data.code.length;a++)e.code_names.push(t.data.data.code[a].name);var s={title:{text:"Code",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"Code",type:"pie",radius:"55%",center:["50%","60%"],data:t.data.data.code,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.chart4.setOption(s,!0)}).catch(function(e){console.log(e.response)})},getTop5Products:function(){var e=this,t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_top5_products",a).then(function(t){e.top5_products=t.data.data.top5_products}).catch(function(e){console.log(e.response)})},getBottom5Merchants:function(){var e=this,t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_bottom5_merchants",a).then(function(t){e.bottom5_merchants=t.data.data.bottom5_merchants}).catch(function(e){console.log(e.response)})},getTop5Merchants:function(){var e=this,t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_top5_merchants",a).then(function(t){e.top5_merchants=t.data.data.top5_merchants}).catch(function(e){console.log(e.response)})},getBottom5Products:function(){var e=this,t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_bottom5_products",a).then(function(t){e.bottom5_products=t.data.data.bottom5_products}).catch(function(e){console.log(e.response)})},getGraphData:function(){var e=this,t=(new Date).getFullYear();t=t.toString();new Date;var a={filters:this.filters};if(0==a.filters.years.length){a.filters.years.push(t),this.year=t;for(var s=0;s<this.years.length;s++)this.years[s].transaction_year==this.year&&this.updateYears(s,this.years[s].transaction_year)}i.a.post(this.$store.state.api_url+"transactions_grid",a).then(function(t){e.gridOptions.api.setColumnDefs(e.columnDefs),e.gridOptions.api.setRowData(t.data.data.records)}).catch(function(e){console.log(e.response)})},clearFilters:function(){this.filters={years:[],quarters:[],months:[],codes:[],merchant_groups:[],merchant_filter:[],wine_farms:[],province_filter:[],products:[],product_types:[],reps:[],types:[]};for(var e=0;e<this.years.length;e++)this.years[e].selected=!1;for(e=0;e<this.quarters.length;e++)this.quarters[e].selected=!1;for(e=0;e<this.months.length;e++)this.months[e].selected=!1;for(e=0;e<this.codes.length;e++)this.codes[e].selected=!1;for(e=0;e<this.merchant_groups.length;e++)this.merchant_groups[e].selected=!1;for(e=0;e<this.merchants.length;e++)this.merchants[e].selected=!1;for(e=0;e<this.wine_farms.length;e++)this.wine_farms[e].selected=!1;for(e=0;e<this.provinces.length;e++)this.provinces[e].selected=!1;for(e=0;e<this.products.length;e++)this.products[e].selected=!1;for(e=0;e<this.types.length;e++)this.types[e].selected=!1;for(e=0;e<this.reps.length;e++)this.reps[e].selected=!1;for(e=0;e<this.reps.length;e++)this.reps[e].selected=!1},resize:function(){this.chart.resize(),this.chart2.resize(),this.chart3.resize(),this.chart4.resize()},getStuff:function(){this.bottom5_merchants=[],this.bottom5_products=[],this.top5_merchants=[],this.top5_products=[],this.gridOptions.api.setColumnDefs(this.columnDefs),this.gridOptions.api.setRowData([]),1!=this.loading4&&(this.loading4=!this.loading4),1!=this.loading1&&(this.loading1=!this.loading1),1!=this.loading2&&(this.loading2=!this.loading2),1!=this.loading3&&(this.loading3=!this.loading3),this.getBudgetAndSales(),this.getTypes(),this.getProvinces(),this.getCodes(),this.getTop5Products(),this.getBottom5Merchants(),this.getTop5Merchants(),this.getBottom5Products(),this.getGraphData()}},beforeMount:function(){this.checkAuthState()},mounted:function(){this.chart=o.a.init(document.getElementById("chart1")),this.chart2=o.a.init(document.getElementById("chart2")),this.chart3=o.a.init(document.getElementById("chart3")),this.chart4=o.a.init(document.getElementById("chart4")),"Admin"==this.$store.state.session.entity.type?this.getFilterData():(this.getBudgetAndSales(),this.getTypes(),this.getProvinces(),this.getCodes(),this.getTop5Products(),this.getBottom5Merchants(),this.getTop5Merchants(),this.getBottom5Products(),this.getGraphData());var e=(new Date).getFullYear();new Date;this.year=e.toString(),window.addEventListener("resize",this.resize,{once:!1,passive:!0,capture:!1})}}},c9ev:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VueFrameworkComponentWrapper=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=a("RkKS");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(t){i(this,e),this._parent=t}return s(e,[{key:"wrap",value:function(e,t,a){var n=r.VueComponentFactory.getComponentType(this._parent,e);if(n){var o=new(function(){function e(){i(this,e)}return s(e,[{key:"init",value:function(e){this.component=r.VueComponentFactory.createAndMountComponent(e,n)}},{key:"getGui",value:function(){return this.component.$el}},{key:"destroy",value:function(){this.component.$destroy()}},{key:"getFrameworkComponentInstance",value:function(){return this.component}}]),e}());return t.forEach(function(e){o[e]=function(){if(o.getFrameworkComponentInstance()[e]){var t=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[e].apply(t,arguments)}return console.warn("ag-Grid: Vue component is missing the method "+e+"()"),null}}),a.forEach(function(e){o[e]=function(){if(o.getFrameworkComponentInstance()[e]){var t=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[e].apply(t,arguments)}}}),o}}}]),e}();n.prototype.__agBeanMetaData={beanName:"frameworkComponentWrapper"},t.VueFrameworkComponentWrapper=n},"eBY+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,r=a("I3G/"),i=(s=r)&&s.__esModule?s:{default:s},n=a("F6Mk"),o=a("jLzX"),l=a("c9ev");var c={},d={gridOptions:{default:function(){return{}}}};n.ComponentUtil.ALL_PROPERTIES.forEach(function(e){d[e]={},c[e]=function(t,a){this.processChanges(e,t,a)}}),n.ComponentUtil.EVENTS.forEach(function(e){d[e]={}}),t.default=i.default.extend({template:"<div></div>",props:d,data:function(){return{_initialised:!1,_destroyed:!1}},methods:{globalEventListener:function(e,t){if(!this._destroyed){var a=this[e];a&&a(t)}},processChanges:function(e,t,a){if(this._initialised){var s={};s[e]={currentValue:t,previousValue:a},n.ComponentUtil.processOnChange(s,this.gridOptions,this.gridOptions.api,this.gridOptions.columnApi)}}},mounted:function(){var e=new l.VueFrameworkComponentWrapper(this),t=new o.VueFrameworkFactory(this.$el,this),a=n.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this),s={globalEventListener:this.globalEventListener.bind(this),frameworkFactory:t,seedBeanInstances:{frameworkComponentWrapper:e}};new n.Grid(this.$el,a,s),this._initialised=!0},watch:c,destroyed:function(){this._initialised&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this._destroyed=!0)}})},jLzX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VueFrameworkFactory=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),r=a("F6Mk"),i=a("RkKS");t.VueFrameworkFactory=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseFrameworkFactory=new r.BaseFrameworkFactory,this._componentFactory=new i.VueComponentFactory(t,a)}return s(e,[{key:"colDefFloatingCellRenderer",value:function(e){return e.floatingCellRendererFramework?this._componentFactory.createRendererFromComponent(e.floatingCellRendererFramework):this._baseFrameworkFactory.colDefFloatingCellRenderer(e)}},{key:"colDefCellRenderer",value:function(e){return e.cellRendererFramework?this._componentFactory.createRendererFromComponent(e.cellRendererFramework):this._baseFrameworkFactory.colDefCellRenderer(e)}},{key:"colDefCellEditor",value:function(e){return e.cellEditorFramework?this._componentFactory.createEditorFromComponent(e.cellEditorFramework):this._baseFrameworkFactory.colDefCellEditor(e)}},{key:"gridOptionsFullWidthCellRenderer",value:function(e){return e.fullWidthCellRendererFramework?this._componentFactory.createRendererFromComponent(e.fullWidthCellRendererFramework):this._baseFrameworkFactory.gridOptionsFullWidthCellRenderer(e)}},{key:"gridOptionsGroupRowRenderer",value:function(e){return e.groupRowRendererFramework?this._componentFactory.createRendererFromComponent(e.groupRowRendererFramework):this._baseFrameworkFactory.gridOptionsGroupRowRenderer(e)}},{key:"gridOptionsGroupRowInnerRenderer",value:function(e){return e.groupRowInnerRendererFramework?this._componentFactory.createRendererFromComponent(e.groupRowInnerRendererFramework):this._baseFrameworkFactory.gridOptionsGroupRowInnerRenderer(e)}},{key:"colDefFilter",value:function(e){return e.filterFramework?this._componentFactory.createFilterFromComponent(e.filterFramework):this._baseFrameworkFactory.colDefFilter(e)}},{key:"setTimeout",value:function(e,t){this._baseFrameworkFactory.setTimeout(e,t)}}]),e}()},kNIA:function(e,t,a){e.exports=a.p+"img/spinner.58c4e21.svg"},uODE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("b3wD"),r=a("Fs7Z"),i=!1;var n=function(e){i||a("BT3R")},o=a("VU/8")(s.a,r.a,!1,n,null,null);o.options.__file="pages/dashboard.vue",t.default=o.exports}});